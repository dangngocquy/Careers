{"version":3,"file":"static/js/935.62df288e.chunk.js","mappings":"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","sources":["admin/components/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { collection, query, getDocs } from 'firebase/firestore';\r\nimport { db } from '../../config';\r\nimport { Card, CardHeader, CardBody, CardTitle, CardText, ListGroup, ListGroupItem, Badge } from 'react-bootstrap';\r\nimport { UserOutlined, MailOutlined, PhoneOutlined, IdcardOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nconst Dashboard = () => {\r\n    const [cvData, setCvData] = useState([]);\r\n    const [stats, setStats] = useState({\r\n        totalApplications: 0,\r\n        savedApplications: 0,\r\n        approvedApplications: 0,\r\n        applicationsToday: 0\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchCVData = async () => {\r\n            try {\r\n                const q = query(collection(db, 'CV'));\r\n                const querySnapshot = await getDocs(q);\r\n                const data = querySnapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    ...doc.data()\r\n                }));\r\n\r\n                const sortedData = data.sort((a, b) =>\r\n                    moment(b.NgayGuiCV, 'DD/MM/YYYY').valueOf() - moment(a.NgayGuiCV, 'DD/MM/YYYY').valueOf()\r\n                );\r\n\r\n                setCvData(sortedData);\r\n                calculateStats(sortedData);\r\n            } catch (err) {\r\n                console.error(\"Error fetching CV data: \", err);\r\n            }\r\n        };\r\n\r\n        fetchCVData();\r\n    }, []);\r\n\r\n    const calculateStats = (data) => {\r\n        const today = moment().format('DD/MM/YYYY');\r\n        setStats({\r\n            totalApplications: data.length,\r\n            savedApplications: data.filter(cv => cv.LuuHoSo).length,\r\n            approvedApplications: data.filter(cv => cv.PheDuyet).length,\r\n            applicationsToday: data.filter(cv => cv.NgayGuiCV === today).length\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1 className=\"mb-4\">Dashboard</h1>\r\n            <div className=\"row mb-4\">\r\n                <div className=\"col-md-3\">\r\n                    <Card className=\"text-center\">\r\n                        <CardBody>\r\n                            <CardTitle>Tổng đơn ứng tuyển</CardTitle>\r\n                            <CardText>{stats.totalApplications}</CardText>\r\n                        </CardBody>\r\n                    </Card>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                    <Card className=\"text-center\">\r\n                        <CardBody>\r\n                            <CardTitle>Đơn đã lưu</CardTitle>\r\n                            <CardText>{stats.savedApplications}</CardText>\r\n                        </CardBody>\r\n                    </Card>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                    <Card className=\"text-center\">\r\n                        <CardBody>\r\n                            <CardTitle>Đơn đã xác nhận</CardTitle>\r\n                            <CardText>{stats.approvedApplications}</CardText>\r\n                        </CardBody>\r\n                    </Card>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                    <Card className=\"text-center\">\r\n                        <CardBody>\r\n                            <CardTitle>Tổng đơn trong ngày</CardTitle>\r\n                            <CardText>{stats.applicationsToday}</CardText>\r\n                        </CardBody>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n\r\n            <Card>\r\n                <CardHeader>đơn gần đây</CardHeader>\r\n                <CardBody>\r\n                    <ListGroup>\r\n                        {cvData.slice(0, 5).map(cv => (\r\n                            <ListGroupItem key={cv.id} className=\"d-flex justify-content-between align-items-center\">\r\n                                <div>\r\n                                    <h5>{cv.HoTen}</h5>\r\n                                    <p className=\"mb-1\"><UserOutlined /> {cv.Vitriungtuyen}</p>\r\n                                    <p className=\"mb-1\"><MailOutlined /> {cv.Email}</p>\r\n                                    <p className=\"mb-1\"><PhoneOutlined /> {cv.SoDienThoai}</p>\r\n                                    <p className=\"mb-1\"><IdcardOutlined /> {cv.NgayGuiCV}</p>\r\n                                </div>\r\n                                <div>\r\n                                    {cv.LuuHoSo && <Badge bg=\"info\" className=\"me-2\">Đã lưu</Badge>}\r\n                                    {cv.PheDuyet && <Badge bg=\"success\">Đã phê duyệt</Badge>}\r\n                                </div>\r\n                            </ListGroupItem>\r\n                        ))}\r\n                    </ListGroup>\r\n                </CardBody>\r\n            </Card>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;"],"names":["Dashboard","cvData","setCvData","useState","stats","setStats","totalApplications","savedApplications","approvedApplications","applicationsToday","useEffect","async","q","query","collection","db","querySnapshot","getDocs","sortedData","docs","map","doc","id","data","sort","a","b","moment","NgayGuiCV","valueOf","calculateStats","err","console","error","fetchCVData","today","format","length","filter","cv","LuuHoSo","PheDuyet","_jsxs","children","_jsx","className","Card","CardBody","CardTitle","CardText","CardHeader","ListGroup","slice","ListGroupItem","HoTen","UserOutlined","Vitriungtuyen","MailOutlined","Email","PhoneOutlined","SoDienThoai","IdcardOutlined","Badge","bg"],"sourceRoot":""}