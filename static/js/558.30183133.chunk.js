"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[558],{9558:(e,i,l)=>{l.r(i),l.d(i,{default:()=>j});var t=l(5043),s=l(8964),n=l(9748),r=l(2019),a=l(9659),o=l(2581),c=l(3188),u=l(2918),h=l(5444),m=l(574),d=l(8797),p=l(3216),g=l(3401),x=l(579);const{Content:y}=s.A,j=()=>{const[e,i]=(0,t.useState)([]),[l,j]=(0,t.useState)(!1),[k,A]=(0,t.useState)(!1),[w]=n.A.useForm(),[C,b]=(0,t.useState)(null),v=(0,p.Zp)();(0,t.useEffect)((()=>{const e=(0,d.hg)(m.j,(e=>{e?i([{uid:e.uid,email:e.email}]):v("/login")}));return()=>e()}),[v]);return(0,x.jsxs)(s.A,{className:"site-layout",children:[(0,x.jsx)("title",{children:"Th\xf4ng tin t\xe0i kho\u1ea3n NISO"}),(0,x.jsx)(y,{style:{margin:"0 16px"},children:(0,x.jsx)("div",{className:"site-layout-background",children:(0,x.jsx)(a.A,{grid:{gutter:16,xs:1,sm:1,md:2,lg:2,xl:3,xxl:3},dataSource:e,renderItem:e=>(0,x.jsx)(a.A.Item,{children:(0,x.jsxs)(o.A,{title:e.email,children:[(0,x.jsx)(c.Ay,{style:{marginBottom:"10px",width:"100%"},onClick:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;b(e),e&&w.setFieldsValue({email:e.email,password:""}),A(!0)}(e),children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}),(0,x.jsx)(c.Ay,{style:{width:"100%"},onClick:()=>(e=>{b(e),j(!0)})(e),children:"G\u1eedi Email \u0110\u1eb7t L\u1ea1i M\u1eadt Kh\u1ea9u"})]})})})})}),(0,x.jsx)(u.A,{title:"\u0110\u1ed5i m\u1eadt kh\u1ea9u",visible:k,onCancel:()=>{A(!1),b(null)},footer:null,children:(0,x.jsxs)(n.A,{form:w,onFinish:async e=>{const{email:l,password:t}=e;try{const e=m.j.currentUser;e&&(await(0,d.Ww)(e,l),t&&await(0,d.f3)(e,t),r.Ay.success("C\u1eadp nh\u1eadt ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng"),i((i=>i.map((i=>i.uid===e.uid?{...i,email:l}:i)))),A(!1))}catch(s){console.error("Error updating user:",s),r.Ay.error("L\u1ed7i khi x\u1eed l\xfd")}},layout:"vertical",children:[(0,x.jsx)(n.A.Item,{name:"email",label:"Email",rules:[{required:!0,type:"email",message:"Vui l\xf2ng nh\u1eadp email h\u1ee3p l\u1ec7!"}],children:(0,x.jsx)(h.A,{disabled:!0})}),(0,x.jsx)(n.A.Item,{name:"password",label:"M\u1eadt kh\u1ea9u",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!"}],children:(0,x.jsx)(h.A.Password,{})}),(0,x.jsx)(n.A.Item,{children:(0,x.jsx)(c.Ay,{type:"primary",htmlType:"submit",children:"C\u1eadp nh\u1eadt"})})]})}),(0,x.jsx)(u.A,{title:"\u0110\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u",visible:l,onCancel:()=>{j(!1),b(null)},onOk:async()=>{try{await(0,d.J1)(m.j,C.email),g.oR.success("\u0110\xe3 g\u1eedi email \u0111\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),j(!1)}catch(e){console.error("L\u1ed7i khi g\u1eedi email \u0111\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u:",e),r.Ay.error("L\u1ed7i khi g\u1eedi email")}},okText:"G\u1eedi Email",cancelText:"H\u1ee7y",children:(0,x.jsxs)("p",{children:["Ch\xfang t\xf4i s\u1ebd g\u1eedi cho b\u1ea1n m\u1ed9t email v\xe0o ",null===C||void 0===C?void 0:C.email," \u0111\u1ec3 \u0111\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u."]})})]})}}}]);
//# sourceMappingURL=558.30183133.chunk.js.map