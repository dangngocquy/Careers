"use strict";(self.webpackChunkniso_careers=self.webpackChunkniso_careers||[]).push([[296],{8395:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var l=t(5043),n=t(5444),i=t(9748),r=t(2019),a=t(1686),c=t(7419),o=t(1645),d=t(2581),u=t(3188),m=t(6036),h=t(6051),x=t(2751),g=t(8677),j=t(5337),y=t(1966),A=t(7407),v=t(574),p=t(5472),f=t(8147),b=t(579);const{TextArea:C}=n.A,w=()=>{const[e]=i.A.useForm(),[s,t]=(0,l.useState)({title:"",content:"",logo:{url:"",title:""},coverImage1:"",coverImage2:"",footerImages:[],icons:[],addresses:[]}),[w,k]=(0,l.useState)(!0),[N,S]=(0,l.useState)(null),[E,I]=(0,l.useState)(!1),[T,O]=(0,l.useState)(!1),[F,$]=(0,l.useState)(!1),[z,L]=(0,l.useState)(null),[R,H]=(0,l.useState)(""),[B,M]=(0,l.useState)(""),[P,q]=(0,l.useState)(""),[G,U]=(0,l.useState)([]),[V,_]=(0,l.useState)([]),D=(0,l.useCallback)((async()=>{try{const s=await(0,p.GG)((0,p.rJ)(v.db,"Frontend"));if(!s.empty){const l=s.docs[0],n=l.data();t(n),S(l.id),e.setFieldsValue({title:n.title,content:n.content})}}catch(s){console.error("Error fetching data: ",s)}finally{k(!1)}}),[e]);(0,l.useEffect)((()=>{D()}),[D]);const J=async e=>{const s=(0,f.KR)(v.I,`CAREERS/CUSTOMS/${e.name}_${Date.now()}`);try{const t=await(0,f.D)(s,e);return await(0,f.qk)(t.ref)}catch(t){console.error("Error uploading image: ",t)}},X=(e,s)=>{L(e),H(s),$(!0)},K=()=>{$(!1),L(null),H("")},Q=(e,s)=>{"icon"===s?t((s=>({...s,icons:s.icons.filter(((s,t)=>t!==e))}))):"address"===s&&t((s=>({...s,addresses:s.addresses.filter(((s,t)=>t!==e))}))),r.Ay.success("Item deleted successfully")};return w?(0,b.jsx)(a.A,{size:"large"}):(0,b.jsxs)("div",{children:[(0,b.jsxs)(i.A,{form:e,onFinish:async()=>{try{const t=await e.validateFields(),l={...s,...t};if(N)await(0,p.mZ)((0,p.H9)(v.db,"Frontend",N),l),r.Ay.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng");else{const e=await(0,p.gS)((0,p.rJ)(v.db,"Frontend"),l);S(e.id),r.Ay.success("Form submitted successfully")}}catch(t){console.error("Error updating/adding document: ",t),r.Ay.error("Failed to submit form")}},layout:"vertical",children:[(0,b.jsxs)(c.A,{gutter:[16,16],children:[(0,b.jsx)(o.A,{xs:24,sm:12,md:8,lg:6,children:(0,b.jsxs)(d.A,{title:"Logo Image",extra:(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(j.A,{}),children:s.logo.url?"S\u1eeda logo":"Th\xeam logo"}),children:[s.logo.url&&(0,b.jsxs)("div",{children:[(0,b.jsx)("img",{src:s.logo.url,alt:"Logo",style:{width:"100%",marginBottom:10}}),(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(y.A,{}),danger:!0,onClick:()=>{t((e=>({...e,logo:{...e.logo,url:""}}))),r.Ay.success("Logo image deleted successfully")},block:!0,children:"X\xf3a logo"})]}),(0,b.jsx)(m.A,{beforeUpload:async e=>{const s=await J(e);return M(s),!1},children:(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(j.A,{}),onClick:async()=>{B&&(t((e=>({...e,logo:{...e.logo,url:B}}))),M(""))},block:!0,children:"C\u1eadp nh\u1eadt logo"})})]})}),(0,b.jsx)(o.A,{xs:24,sm:12,md:8,lg:6,children:(0,b.jsxs)(d.A,{title:"Logo Title",extra:(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(A.A,{}),children:s.logo.title?"S\u1eeda ti\xeau \u0111\u1ec1 logo":"Th\xeam ti\xeau \u0111\u1ec1 logo"}),children:[s.logo.title?(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{children:s.logo.title}),(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(y.A,{}),danger:!0,onClick:()=>{t((e=>({...e,logo:{...e.logo,title:""}}))),r.Ay.success("Logo title deleted successfully")},block:!0,children:"X\xf3a ti\xeau \u0111\u1ec1 logo"})]}):(0,b.jsx)("p",{children:"Ch\u01b0a c\xf3 ti\xeau \u0111\u1ec1 logo"}),(0,b.jsx)(n.A,{placeholder:"Nh\u1eadp ti\xeau \u0111\u1ec1 logo",value:P,onChange:e=>q(e.target.value),style:{marginBottom:10}}),(0,b.jsx)(u.Ay,{onClick:async()=>{P&&(t((e=>({...e,logo:{...e.logo,title:P}}))),q(""))},block:!0,children:"C\u1eadp nh\u1eadt ti\xeau \u0111\u1ec1"})]})})]}),(0,b.jsx)(i.A.Item,{name:"title",label:"Title",rules:[{required:!0}],children:(0,b.jsx)(n.A,{})}),(0,b.jsx)(i.A.Item,{name:"content",label:"Content",rules:[{required:!0}],children:(0,b.jsx)(C,{rows:4})}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)(u.Ay,{onClick:()=>I(!0),children:"Th\xeam icon"}),(0,b.jsx)("div",{className:"d-flex flex-wrap mt-2",children:s.icons.map(((e,s)=>(0,b.jsxs)("div",{className:"me-2 mb-2",children:[(0,b.jsx)("img",{src:e.url,alt:e.title,style:{width:50}}),(0,b.jsx)("p",{children:e.title}),(0,b.jsxs)(h.A,{children:[(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(A.A,{}),onClick:()=>X(e,"icon")}),(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(y.A,{}),onClick:()=>Q(s,"icon"),danger:!0})]})]},s)))})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)(u.Ay,{onClick:()=>O(!0),children:"Th\xeam \u0111\u1ecba ch\u1ec9"}),(0,b.jsx)("div",{className:"mt-2",children:s.addresses.map(((e,s)=>(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("img",{src:e.image,alt:"Address",style:{width:100}}),(0,b.jsx)("p",{children:e.content}),(0,b.jsxs)(h.A,{children:[(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(A.A,{}),onClick:()=>X(e,"address")}),(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(y.A,{}),onClick:()=>Q(s,"address"),danger:!0})]})]},s)))})]}),(0,b.jsx)(i.A.Item,{children:(0,b.jsx)(u.Ay,{type:"primary",htmlType:"submit",children:N?"C\u1eadp nh\u1eadt":"G\u1eedi"})})]}),(0,b.jsxs)(x.A,{title:"Th\xeam icon",visible:E,onOk:async()=>{G.length>0&&(t((e=>({...e,icons:[...e.icons,...G]}))),I(!1),U([]))},onCancel:()=>I(!1),children:[G.map(((e,s)=>(0,b.jsxs)("div",{style:{marginBottom:10},children:[(0,b.jsx)("img",{src:e.url,alt:e.title,style:{width:50,marginRight:10}}),(0,b.jsx)(n.A,{placeholder:"Ti\xeau \u0111\u1ec1 icon",value:e.title,onChange:e=>{const t=[...G];t[s].title=e.target.value,U(t)},style:{width:200}}),(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(y.A,{}),onClick:()=>U((e=>e.filter(((e,t)=>t!==s)))),danger:!0})]},s))),(0,b.jsx)(m.A,{beforeUpload:async e=>{const s=await J(e);return U((e=>[...e,{url:s,title:""}])),!1},children:(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(j.A,{}),children:"Th\xeam icon"})})]}),(0,b.jsxs)(x.A,{title:"Th\xeam \u0111\u1ecba ch\u1ec9",visible:T,onOk:async()=>{V.length>0&&(t((e=>({...e,addresses:[...e.addresses,...V]}))),O(!1),_([]))},onCancel:()=>O(!1),children:[V.map(((e,s)=>(0,b.jsxs)("div",{style:{marginBottom:10},children:[(0,b.jsx)("img",{src:e.image,alt:"Address",style:{width:100,marginRight:10}}),(0,b.jsx)(C,{placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9",value:e.content,onChange:e=>{const t=[...V];t[s].content=e.target.value,_(t)},style:{width:200}}),(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(y.A,{}),onClick:()=>_((e=>e.filter(((e,t)=>t!==s)))),danger:!0})]},s))),(0,b.jsx)(m.A,{beforeUpload:async e=>{const s=await J(e);return _((e=>[...e,{image:s,content:""}])),!1},children:(0,b.jsx)(u.Ay,{icon:(0,b.jsx)(j.A,{}),children:"Th\xeam \u0111\u1ecba ch\u1ec9"})})]}),(0,b.jsx)(g.A,{title:"Ch\u1ec9nh s\u1eeda "+("icon"===R?"Icon":"\u0110\u1ecba ch\u1ec9"),placement:"right",closable:!1,onClose:K,visible:F,children:z&&(0,b.jsxs)(i.A,{form:e,onFinish:async()=>{try{const s=await e.validateFields(),l=e.getFieldValue("file");let n=z.url;l&&l[0]&&(n=await J(l[0].originFileObj));const i={...s,url:n};"icon"===R?t((e=>({...e,icons:e.icons.map((e=>e===z?i:e))}))):"address"===R&&t((e=>({...e,addresses:e.addresses.map((e=>e===z?i:e))}))),K(),r.Ay.success("Item updated successfully")}catch(s){console.error("Error updating item: ",s),r.Ay.error("Failed to update item")}},layout:"vertical",initialValues:z,children:[(0,b.jsx)(i.A.Item,{name:"title",label:"Ti\xeau \u0111\u1ec1",rules:[{required:!0}],children:(0,b.jsx)(n.A,{})}),(0,b.jsx)(i.A.Item,{name:"file",label:"H\xecnh \u1ea3nh",valuePropName:"fileList",getValueFromEvent:e=>e&&e.fileList,children:(0,b.jsx)(m.A,{beforeUpload:()=>!1,listType:"picture-card",maxCount:1,children:(0,b.jsxs)("div",{children:[(0,b.jsx)(j.A,{}),(0,b.jsx)("div",{style:{marginTop:8},children:"T\u1ea3i l\xean"})]})})}),"address"===R&&(0,b.jsx)(i.A.Item,{name:"content",label:"N\u1ed9i dung",rules:[{required:!0}],children:(0,b.jsx)(C,{rows:4})}),(0,b.jsx)(i.A.Item,{children:(0,b.jsx)(u.Ay,{type:"primary",htmlType:"submit",children:"C\u1eadp nh\u1eadt"})})]})})]})}},3390:(e,s,t)=>{t.d(s,{A:()=>c});var l=t(8168),n=t(5043);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var r=t(2172),a=function(e,s){return n.createElement(r.A,(0,l.A)({},e,{ref:s,icon:i}))};const c=n.forwardRef(a)},1966:(e,s,t)=>{t.d(s,{A:()=>c});var l=t(8168),n=t(5043);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var r=t(2172),a=function(e,s){return n.createElement(r.A,(0,l.A)({},e,{ref:s,icon:i}))};const c=n.forwardRef(a)},7407:(e,s,t)=>{t.d(s,{A:()=>c});var l=t(8168),n=t(5043);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var r=t(2172),a=function(e,s){return n.createElement(r.A,(0,l.A)({},e,{ref:s,icon:i}))};const c=n.forwardRef(a)},1645:(e,s,t)=>{t.d(s,{A:()=>l});const l=t(227).A},7419:(e,s,t)=>{t.d(s,{A:()=>l});const l=t(8821).A},6051:(e,s,t)=>{t.d(s,{A:()=>A});var l=t(5043),n=t(8139),i=t.n(n),r=t(2149);function a(e){return["small","middle","large"].includes(e)}function c(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}var o=t(5296),d=t(5132);const u=l.createContext({latestIndex:0}),m=u.Provider,h=e=>{let{className:s,index:t,children:n,split:i,style:r}=e;const{latestIndex:a}=l.useContext(u);return null===n||void 0===n?null:l.createElement(l.Fragment,null,l.createElement("div",{className:s,style:r},n),t<a&&i&&l.createElement("span",{className:`${s}-split`},i))};var x=t(8309),g=function(e,s){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)s.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(t[l[n]]=e[l[n]])}return t};const j=l.forwardRef(((e,s)=>{var t,n,d;const{getPrefixCls:u,space:j,direction:y}=l.useContext(o.QO),{size:A=(null!==(t=null===j||void 0===j?void 0:j.size)&&void 0!==t?t:"small"),align:v,className:p,rootClassName:f,children:b,direction:C="horizontal",prefixCls:w,split:k,style:N,wrap:S=!1,classNames:E,styles:I}=e,T=g(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[O,F]=Array.isArray(A)?A:[A,A],$=a(F),z=a(O),L=c(F),R=c(O),H=(0,r.A)(b,{keepEmpty:!0}),B=void 0===v&&"horizontal"===C?"center":v,M=u("space",w),[P,q,G]=(0,x.A)(M),U=i()(M,null===j||void 0===j?void 0:j.className,q,`${M}-${C}`,{[`${M}-rtl`]:"rtl"===y,[`${M}-align-${B}`]:B,[`${M}-gap-row-${F}`]:$,[`${M}-gap-col-${O}`]:z},p,f,G),V=i()(`${M}-item`,null!==(n=null===E||void 0===E?void 0:E.item)&&void 0!==n?n:null===(d=null===j||void 0===j?void 0:j.classNames)||void 0===d?void 0:d.item);let _=0;const D=H.map(((e,s)=>{var t,n;null!==e&&void 0!==e&&(_=s);const i=(null===e||void 0===e?void 0:e.key)||`${V}-${s}`;return l.createElement(h,{className:V,key:i,index:s,split:k,style:null!==(t=null===I||void 0===I?void 0:I.item)&&void 0!==t?t:null===(n=null===j||void 0===j?void 0:j.styles)||void 0===n?void 0:n.item},e)})),J=l.useMemo((()=>({latestIndex:_})),[_]);if(0===H.length)return null;const X={};return S&&(X.flexWrap="wrap"),!z&&R&&(X.columnGap=O),!$&&L&&(X.rowGap=F),P(l.createElement("div",Object.assign({ref:s,className:U,style:Object.assign(Object.assign(Object.assign({},X),null===j||void 0===j?void 0:j.style),N)},T),l.createElement(m,{value:J},D)))})),y=j;y.Compact=d.Ay;const A=y}}]);
//# sourceMappingURL=296.f31ac94c.chunk.js.map