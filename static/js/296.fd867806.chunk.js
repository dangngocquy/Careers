"use strict";(self.webpackChunkniso_careers=self.webpackChunkniso_careers||[]).push([[296],{8395:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var l=t(5043),n=t(5444),i=t(9748),a=t(2019),r=t(1686),c=t(3188),o=t(6051),d=t(2751),u=t(6036),m=t(8677),h=t(1966),g=t(7407),x=t(5337),v=t(574),y=t(5472),j=t(8147),A=t(579);const{TextArea:p}=n.A,f=()=>{const[e]=i.A.useForm(),[s,t]=(0,l.useState)({title:"",content:"",logo:{url:"",title:""},coverImage1:"",coverImage2:"",footerImages:[],icons:[],addresses:[]}),[f,b]=(0,l.useState)(!0),[C,w]=(0,l.useState)(null),[N,k]=(0,l.useState)(!1),[O,S]=(0,l.useState)(!1),[E,I]=(0,l.useState)(!1),[F,T]=(0,l.useState)(null),[$,z]=(0,l.useState)(""),[L,R]=(0,l.useState)(!1),[U,M]=(0,l.useState)(!1),[H,P]=(0,l.useState)(""),[q,B]=(0,l.useState)(""),[G,V]=(0,l.useState)([]),[_,D]=(0,l.useState)([]),J=(0,l.useCallback)((async()=>{try{const s=await(0,y.GG)((0,y.rJ)(v.db,"Frontend"));if(!s.empty){const l=s.docs[0],n=l.data();t(n),w(l.id),e.setFieldsValue({title:n.title,content:n.content})}}catch(s){console.error("Error fetching data: ",s)}finally{b(!1)}}),[e]);(0,l.useEffect)((()=>{J()}),[J]);const K=async e=>{const s=(0,j.KR)(v.I,`CAREERS/CUSTOMS/${e.name}_${Date.now()}`);try{const t=await(0,j.D)(s,e);return await(0,j.qk)(t.ref)}catch(t){console.error("Error uploading image: ",t)}},Q=(e,s)=>{T(e),z(s),I(!0)},W=()=>{I(!1),T(null),z("")},Z=(e,s)=>{"icon"===s?t((s=>({...s,icons:s.icons.filter(((s,t)=>t!==e))}))):"address"===s&&t((s=>({...s,addresses:s.addresses.filter(((s,t)=>t!==e))}))),a.Ay.success("Item deleted successfully")};return f?(0,A.jsx)(r.A,{size:"large"}):(0,A.jsxs)("div",{children:[(0,A.jsxs)(i.A,{form:e,onFinish:async()=>{try{const t=await e.validateFields(),l={...s,...t};if(C)await(0,y.mZ)((0,y.H9)(v.db,"Frontend",C),l),a.Ay.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng");else{const e=await(0,y.gS)((0,y.rJ)(v.db,"Frontend"),l);w(e.id),a.Ay.success("Form submitted successfully")}}catch(t){console.error("Error updating/adding document: ",t),a.Ay.error("Failed to submit form")}},layout:"vertical",children:["Update sau",(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsx)(c.Ay,{onClick:()=>R(!0),children:s.logo.url?"S\u1eeda logo":"th\xeam logo"}),s.logo.url&&(0,A.jsxs)("div",{children:[(0,A.jsx)("img",{src:s.logo.url,alt:"Logo",style:{width:100,marginTop:10}}),(0,A.jsx)(c.Ay,{icon:(0,A.jsx)(h.A,{}),danger:!0,onClick:()=>{t((e=>({...e,logo:{...e.logo,url:""}}))),a.Ay.success("Logo image deleted successfully")},children:"x\xf3a logo"})]}),(0,A.jsx)(c.Ay,{onClick:()=>M(!0),style:{marginLeft:10},children:s.logo.title?"s\u1eeda ti\xeau \u0111\u1ec1 logo":"Th\xeam ti\xeau \u0111\u1ec1 logo"}),s.logo.title&&(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{children:s.logo.title}),(0,A.jsx)(c.Ay,{icon:(0,A.jsx)(h.A,{}),danger:!0,onClick:()=>{t((e=>({...e,logo:{...e.logo,title:""}}))),a.Ay.success("Logo title deleted successfully")},children:"x\xd3A TI\xcaU \u0110\u1ec0 LOGO"})]})]}),(0,A.jsx)(i.A.Item,{name:"title",label:"Title",rules:[{required:!0}],children:(0,A.jsx)(n.A,{})}),(0,A.jsx)(i.A.Item,{name:"content",label:"Content",rules:[{required:!0}],children:(0,A.jsx)(p,{rows:4})}),(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsx)(c.Ay,{onClick:()=>k(!0),children:"Th\xcaM ICON"}),(0,A.jsx)("div",{className:"d-flex flex-wrap mt-2",children:s.icons.map(((e,s)=>(0,A.jsxs)("div",{className:"me-2 mb-2",children:[(0,A.jsx)("img",{src:e.url,alt:e.title,style:{width:50}}),(0,A.jsx)("p",{children:e.title}),(0,A.jsxs)(o.A,{children:[(0,A.jsx)(c.Ay,{icon:(0,A.jsx)(g.A,{}),onClick:()=>Q(e,"icon")}),(0,A.jsx)(c.Ay,{icon:(0,A.jsx)(h.A,{}),onClick:()=>Z(s,"icon"),danger:!0})]})]},s)))})]}),(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsx)(c.Ay,{onClick:()=>S(!0),children:"Th\xeam \u0111\u1ecba ch\u1ec9"}),(0,A.jsx)("div",{className:"mt-2",children:s.addresses.map(((e,s)=>(0,A.jsxs)("div",{className:"mb-2",children:[(0,A.jsx)("img",{src:e.image,alt:"Address",style:{width:100}}),(0,A.jsx)("p",{children:e.content}),(0,A.jsxs)(o.A,{children:[(0,A.jsx)(c.Ay,{icon:(0,A.jsx)(g.A,{}),onClick:()=>Q(e,"address")}),(0,A.jsx)(c.Ay,{icon:(0,A.jsx)(h.A,{}),onClick:()=>Z(s,"address"),danger:!0})]})]},s)))})]}),(0,A.jsx)(i.A.Item,{children:(0,A.jsx)(c.Ay,{type:"primary",htmlType:"submit",children:C?"C\u1eadp nh\u1eadt":"Submit"})})]}),(0,A.jsx)(d.A,{title:"Edit Logo Image",visible:L,onOk:async()=>{H&&(t((e=>({...e,logo:{...e.logo,url:H}}))),R(!1),P(""))},onCancel:()=>R(!1),children:(0,A.jsx)(u.A,{beforeUpload:async e=>{const s=await K(e);return P(s),!1},children:(0,A.jsx)(c.Ay,{icon:(0,A.jsx)(x.A,{}),children:"C\u1eadp nh\u1eadt logo"})})}),(0,A.jsx)(d.A,{title:"Ch\u1ec9nh s\u1eeda ti\xeau \u0111\u1ec1",visible:U,onOk:async()=>{q&&(t((e=>({...e,logo:{...e.logo,title:q}}))),M(!1),B(""))},onCancel:()=>M(!1),children:(0,A.jsx)(n.A,{placeholder:"Nh\u1eadp ti\xeau \u0111\u1ec1 logo",value:q,onChange:e=>B(e.target.value)})}),(0,A.jsxs)(d.A,{title:"Th\xeam icon",visible:N,onOk:async()=>{G.length>0&&(t((e=>({...e,icons:[...e.icons,...G]}))),k(!1),V([]))},onCancel:()=>k(!1),children:[G.map(((e,s)=>(0,A.jsxs)("div",{style:{marginBottom:10},children:[(0,A.jsx)("img",{src:e.url,alt:e.title,style:{width:50,marginRight:10}}),(0,A.jsx)(n.A,{placeholder:"ti\xeau \u0111\u1ec1 icon",value:e.title,onChange:e=>{const t=[...G];t[s].title=e.target.value,V(t)},style:{width:200}}),(0,A.jsx)(c.Ay,{icon:(0,A.jsx)(h.A,{}),onClick:()=>V((e=>e.filter(((e,t)=>t!==s)))),danger:!0})]},s))),(0,A.jsx)(u.A,{beforeUpload:async e=>{const s=await K(e);return V((e=>[...e,{url:s,title:""}])),!1},children:(0,A.jsx)(c.Ay,{icon:(0,A.jsx)(x.A,{}),children:"Th\xeam icon"})})]}),(0,A.jsxs)(d.A,{title:"Add Addresses",visible:O,onOk:async()=>{_.length>0&&(t((e=>({...e,addresses:[...e.addresses,..._]}))),S(!1),D([]))},onCancel:()=>S(!1),children:[_.map(((e,s)=>(0,A.jsxs)("div",{style:{marginBottom:10},children:[(0,A.jsx)("img",{src:e.image,alt:"Address",style:{width:100,marginRight:10}}),(0,A.jsx)(p,{placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9",value:e.content,onChange:e=>{const t=[..._];t[s].content=e.target.value,D(t)},style:{width:200}}),(0,A.jsx)(c.Ay,{icon:(0,A.jsx)(h.A,{}),onClick:()=>D((e=>e.filter(((e,t)=>t!==s)))),danger:!0})]},s))),(0,A.jsx)(u.A,{beforeUpload:async e=>{const s=await K(e);return D((e=>[...e,{image:s,content:""}])),!1},children:(0,A.jsx)(c.Ay,{icon:(0,A.jsx)(x.A,{}),children:"Th\xeam \u0111\u1ecba ch\u1ec9"})})]}),(0,A.jsx)(m.A,{title:`Edit ${$.charAt(0).toUpperCase()+$.slice(1)}`,placement:"right",closable:!1,onClose:W,visible:E,children:F&&(0,A.jsxs)(i.A,{form:e,onFinish:async()=>{try{const s=await e.validateFields(),l=e.getFieldValue("file");let n=F.url;l&&l[0]&&(n=await K(l[0].originFileObj));const i={...s,url:n};"icon"===$?t((e=>({...e,icons:e.icons.map((e=>e===F?i:e))}))):"address"===$&&t((e=>({...e,addresses:e.addresses.map((e=>e===F?i:e))}))),W(),a.Ay.success("Item updated successfully")}catch(s){console.error("Error updating item: ",s),a.Ay.error("Failed to update item")}},layout:"vertical",initialValues:F,children:[(0,A.jsx)(i.A.Item,{name:"title",label:"Title",rules:[{required:!0}],children:(0,A.jsx)(n.A,{})}),(0,A.jsx)(i.A.Item,{name:"file",label:"Image",valuePropName:"fileList",getValueFromEvent:e=>e&&e.fileList,children:(0,A.jsx)(u.A,{beforeUpload:()=>!1,listType:"picture-card",maxCount:1,children:(0,A.jsxs)("div",{children:[(0,A.jsx)(x.A,{}),(0,A.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})}),"address"===$&&(0,A.jsx)(i.A.Item,{name:"content",label:"N\u1ed9i dung",rules:[{required:!0}],children:(0,A.jsx)(p,{rows:4})}),(0,A.jsx)(i.A.Item,{children:(0,A.jsx)(c.Ay,{type:"primary",htmlType:"submit",children:"C\u1eadp nh\u1eadt"})})]})})]})}},3390:(e,s,t)=>{t.d(s,{A:()=>c});var l=t(8168),n=t(5043);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var a=t(2172),r=function(e,s){return n.createElement(a.A,(0,l.A)({},e,{ref:s,icon:i}))};const c=n.forwardRef(r)},1966:(e,s,t)=>{t.d(s,{A:()=>c});var l=t(8168),n=t(5043);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var a=t(2172),r=function(e,s){return n.createElement(a.A,(0,l.A)({},e,{ref:s,icon:i}))};const c=n.forwardRef(r)},7407:(e,s,t)=>{t.d(s,{A:()=>c});var l=t(8168),n=t(5043);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var a=t(2172),r=function(e,s){return n.createElement(a.A,(0,l.A)({},e,{ref:s,icon:i}))};const c=n.forwardRef(r)},6051:(e,s,t)=>{t.d(s,{A:()=>j});var l=t(5043),n=t(8139),i=t.n(n),a=t(2149);function r(e){return["small","middle","large"].includes(e)}function c(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}var o=t(5296),d=t(5132);const u=l.createContext({latestIndex:0}),m=u.Provider,h=e=>{let{className:s,index:t,children:n,split:i,style:a}=e;const{latestIndex:r}=l.useContext(u);return null===n||void 0===n?null:l.createElement(l.Fragment,null,l.createElement("div",{className:s,style:a},n),t<r&&i&&l.createElement("span",{className:`${s}-split`},i))};var g=t(8309),x=function(e,s){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)s.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(t[l[n]]=e[l[n]])}return t};const v=l.forwardRef(((e,s)=>{var t,n,d;const{getPrefixCls:u,space:v,direction:y}=l.useContext(o.QO),{size:j=(null!==(t=null===v||void 0===v?void 0:v.size)&&void 0!==t?t:"small"),align:A,className:p,rootClassName:f,children:b,direction:C="horizontal",prefixCls:w,split:N,style:k,wrap:O=!1,classNames:S,styles:E}=e,I=x(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[F,T]=Array.isArray(j)?j:[j,j],$=r(T),z=r(F),L=c(T),R=c(F),U=(0,a.A)(b,{keepEmpty:!0}),M=void 0===A&&"horizontal"===C?"center":A,H=u("space",w),[P,q,B]=(0,g.A)(H),G=i()(H,null===v||void 0===v?void 0:v.className,q,`${H}-${C}`,{[`${H}-rtl`]:"rtl"===y,[`${H}-align-${M}`]:M,[`${H}-gap-row-${T}`]:$,[`${H}-gap-col-${F}`]:z},p,f,B),V=i()(`${H}-item`,null!==(n=null===S||void 0===S?void 0:S.item)&&void 0!==n?n:null===(d=null===v||void 0===v?void 0:v.classNames)||void 0===d?void 0:d.item);let _=0;const D=U.map(((e,s)=>{var t,n;null!==e&&void 0!==e&&(_=s);const i=(null===e||void 0===e?void 0:e.key)||`${V}-${s}`;return l.createElement(h,{className:V,key:i,index:s,split:N,style:null!==(t=null===E||void 0===E?void 0:E.item)&&void 0!==t?t:null===(n=null===v||void 0===v?void 0:v.styles)||void 0===n?void 0:n.item},e)})),J=l.useMemo((()=>({latestIndex:_})),[_]);if(0===U.length)return null;const K={};return O&&(K.flexWrap="wrap"),!z&&R&&(K.columnGap=F),!$&&L&&(K.rowGap=T),P(l.createElement("div",Object.assign({ref:s,className:G,style:Object.assign(Object.assign(Object.assign({},K),null===v||void 0===v?void 0:v.style),k)},I),l.createElement(m,{value:J},D)))})),y=v;y.Compact=d.Ay;const j=y}}]);
//# sourceMappingURL=296.fd867806.chunk.js.map