"use strict";(self.webpackChunkniso_careers=self.webpackChunkniso_careers||[]).push([[885],{4885:(e,s,i)=>{i.r(s),i.d(s,{default:()=>Y});var a=i(5043),n=i(5472),l=i(574),t=i(2019),o=i(5444),r=i(6051),c=i(3530),d=i(8575),h=i(9472),u=i(2245),x=i(3188),m=i(4327),j=i(8677),g=i(2918),y=i(6178),C=i.n(y),p=i(9679),v=i(9194),f=i(3617),S=i(3722),A=i(5388),N=i(7534),w=i(1831),H=i(3390),b=i(8143),L=i(1966),V=i(184),k=i(3401),T=i(579);const Y=()=>{const[e,s]=(0,a.useState)([]),[i,y]=(0,a.useState)([]),[Y,D]=(0,a.useState)(!0),[O,E]=(0,a.useState)(null),[F,M]=(0,a.useState)(null),[_,G]=(0,a.useState)(!1),[P,X]=(0,a.useState)(!1),[B,z]=(0,a.useState)(""),[U,$]=(0,a.useState)(null),[R,J]=(0,a.useState)(1),[K,W]=(0,a.useState)(!1),[Z,q]=(0,a.useState)(!1),[I,Q]=(0,a.useState)(null),[ee,se]=(0,a.useState)(null),[ie,ae]=(0,a.useState)(!1),[ne,le]=(0,a.useState)(null),[te,oe]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{const e=(0,n.P)((0,n.rJ)(l.db,"CV")),i=await(0,n.GG)(e),a=i.docs.map((e=>({id:e.id,...e.data()}))).sort(((e,s)=>C()(s.NgayGuiCV,"DD/MM/YYYY").valueOf()-C()(e.NgayGuiCV,"DD/MM/YYYY").valueOf()));s(a),y(a),D(!1)}catch(e){console.error("Error fetching CV data: ",e),E("An error occurred while fetching data"),D(!1)}})()}),[]);(0,a.useEffect)((()=>{const s=e.filter((e=>{const s=e.HoTen.toLowerCase().includes(B.toLowerCase())||e.Email.toLowerCase().includes(B.toLowerCase())||e.Vitriungtuyen.toLowerCase().includes(B.toLowerCase()),i=!U||C()(e.NgayGuiCV,"DD/MM/YYYY").isSame(U,"day");return s&&i})).filter((e=>"LuuHoSo"===ee?!0===e.LuuHoSo:"PheDuyet"!==ee||!0===e.PheDuyet));y(s),J(1)}),[B,U,ee,e]);const re=i.slice(20*(R-1),20*R);return Y?(0,T.jsx)(p.A,{}):O?(0,T.jsx)(v.default,{}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"mb-4",children:[(0,T.jsx)(o.A,{placeholder:"T\xecm ki\u1ebfm theo t\xean, email ho\u1eb7c v\u1ecb tr\xed",onChange:e=>{z(e.target.value)},size:"large",style:{marginBottom:15}}),(0,T.jsxs)(r.A,{children:[(0,T.jsx)(c.A,{onChange:e=>{$(e)},format:"DD/MM/YYYY",placeholder:"L\u1ecdc theo ng\xe0y g\u1eedi CV",style:{marginRight:15}}),(0,T.jsxs)(d.A,{placeholder:"Ch\u1ecdn b\u1ed9 l\u1ecdc",style:{width:200},onChange:e=>se(e),allowClear:!0,children:[(0,T.jsx)(d.A.Option,{value:"PheDuyet",children:"H\u1ed3 s\u01a1 \u0111\xe3 ph\xea duy\u1ec7t"}),(0,T.jsx)(d.A.Option,{value:"LuuHoSo",children:"H\u1ed3 s\u01a1 \u0111\xe3 l\u01b0u"})]})]})]}),0===i.length?(0,T.jsx)(h.A,{description:"Kh\xf4ng t\xecm th\u1ea5y h\u1ed3 s\u01a1 n\xe0o"}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"row",children:re.map((e=>(0,T.jsx)("div",{className:"col-md-3 mb-4",children:(0,T.jsx)("div",{className:"card",children:(0,T.jsxs)("div",{className:"card-body lh-lg",children:[(0,T.jsxs)("div",{className:"d-flex align-items-center",children:[(0,T.jsx)(u.A,{size:48,src:e.Hinhdaidien,icon:!e.Hinhdaidien&&(0,T.jsx)(S.A,{}),className:"me-3"}),(0,T.jsx)("h2",{className:"card-title",style:{maxWidth:"250px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.Vitriungtuyen})]}),(0,T.jsx)("div",{className:"apply-form__group-body--line"}),(0,T.jsx)("div",{className:"d-flex justify-content-between align-items-center mt-2",children:(0,T.jsx)(f.A,{cv:e})}),(0,T.jsx)("div",{className:"apply-form__group-body--line"}),(0,T.jsxs)("p",{className:"card-text",children:[(0,T.jsx)(V.p7b,{})," T\xean \u1ee9ng vi\xean: ",e.HoTen]}),(0,T.jsxs)("p",{className:"card-text",children:[(0,T.jsx)(A.A,{})," Email:",(0,T.jsx)("a",{href:`mailto:${e.Email}`,className:"ms-2",children:e.Email})]}),(0,T.jsxs)("p",{className:"card-text",children:[(0,T.jsx)(N.A,{})," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:",(0,T.jsx)("a",{href:`tel:${e.SoDienThoai}`,className:"ms-2",children:e.SoDienThoai})]}),(0,T.jsxs)("p",{className:"card-text",children:[(0,T.jsx)(w.A,{})," Ng\xe0y g\u1eedi CV: ",e.NgayGuiCV]}),(0,T.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[e.CVFileUT&&(0,T.jsx)(x.Ay,{onClick:()=>(e=>{M(e),X(!0),G(!0),setTimeout((()=>X(!1)),1500)})(e),children:"Xem CV File"}),(0,T.jsx)(x.Ay,{icon:e.LuuHoSo?(0,T.jsx)(H.A,{}):(0,T.jsx)(b.A,{}),onClick:()=>(e=>{Q(e),W(!0)})(e),disabled:e.LuuHoSo,children:e.LuuHoSo?"\u0110\xe3 l\u01b0u":"L\u01b0u h\u1ed3 s\u01a1"}),(0,T.jsx)(x.Ay,{icon:(0,T.jsx)(L.A,{}),onClick:()=>(e=>{le(e),ae(!0)})(e),danger:!0,children:"X\xf3a"})]})]})})},e.id)))}),(0,T.jsx)(m.A,{current:R,total:i.length,pageSize:20,onChange:J,showSizeChanger:!1,className:"mt-4"})]}),(0,T.jsx)(j.A,{title:(0,T.jsxs)(T.Fragment,{children:["CV c\u1ee7a ",null===F||void 0===F?void 0:F.HoTen]}),placement:"right",onClose:()=>G(!1),open:_,width:800,children:P?(0,T.jsx)("div",{className:"d-flex justify-content-center",children:(0,T.jsx)("div",{className:"spinner-border",role:"status",children:(0,T.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(null===F||void 0===F?void 0:F.CVFileUT)&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("iframe",{src:F.CVFileUT,style:{width:"100%",height:"86vh",border:"none"},title:`CV c\u1ee7a ${F.HoTen}`}),(0,T.jsx)(x.Ay,{onClick:()=>window.open(`${F.CVFileUT}`,"_blank"),type:"primary",children:"Xem \u0111\u1ea7y \u0111\u1ee7"})]})}),(0,T.jsxs)(g.A,{title:"X\xe1c nh\u1eadn x\xf3a",visible:ie,onOk:async()=>{oe(!0);try{const e=(0,n.H9)(l.db,"CV",ne.id);await(0,n.kd)(e),k.oR.success("\u0110\xe3 x\xf3a h\u1ed3 s\u01a1.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s((e=>e.filter((e=>e.id!==ne.id)))),y((e=>e.filter((e=>e.id!==ne.id)))),ae(!1)}catch(O){console.error("Error deleting CV: ",O),t.Ay.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a h\u1ed3 s\u01a1")}finally{oe(!1)}},onCancel:()=>ae(!1),confirmLoading:te,okText:"X\xf3a",cancelText:"H\u1ee7y",children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a h\u1ed3 s\u01a1 c\u1ee7a ",(0,T.jsx)("strong",{children:null===ne||void 0===ne?void 0:ne.HoTen}),"?"]}),(0,T.jsxs)(g.A,{title:"X\xe1c nh\u1eadn",visible:K,onOk:async()=>{q(!0);try{const e=(0,n.H9)(l.db,"CV",I.id);await(0,n.mZ)(e,{LuuHoSo:!0}),k.oR.success("\u0110\xe3 l\u01b0u h\u1ed3 s\u01a1.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s((e=>e.map((e=>e.id===I.id?{...e,LuuHoSo:!0}:e)))),y((e=>e.map((e=>e.id===I.id?{...e,LuuHoSo:!0}:e)))),W(!1)}catch(O){console.error("Error saving CV: ",O),t.Ay.error("C\xf3 l\u1ed7i x\u1ea3y ra khi l\u01b0u h\u1ed3 s\u01a1")}finally{q(!1)}},onCancel:()=>W(!1),confirmLoading:Z,okText:"L\u01b0u",cancelText:"H\u1ee7y",children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n l\u01b0u h\u1ed3 s\u01a1 c\u1ee7a ",(0,T.jsx)("strong",{children:null===I||void 0===I?void 0:I.HoTen}),"?"]})]})}}}]);
//# sourceMappingURL=885.66420933.chunk.js.map