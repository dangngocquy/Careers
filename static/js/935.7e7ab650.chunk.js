"use strict";(self.webpackChunkniso_careers=self.webpackChunkniso_careers||[]).push([[935],{5935:(e,s,n)=>{n.r(s),n.d(s,{default:()=>D});var t=n(5043),i=n(5472),a=n(574),l=n(6784),c=n(5284),r=n(8588),d=n(6383),o=n(2462),h=n(2017),x=n(4564),u=n(4063),j=n(3722),m=n(5388),p=n(7534),A=n(1831),g=n(6178),y=n.n(g),v=n(3488),Y=n.n(v),f=n(4999),N=n.n(f),b=n(3188),w=n(8677),C=n(579);const D=()=>{const[e,s]=(0,t.useState)([]),[n,g]=(0,t.useState)({totalApplications:0,savedApplications:0,approvedApplications:0,applicationsToday:0}),[v,f]=(0,t.useState)("week"),[D,T]=(0,t.useState)({}),[k,M]=(0,t.useState)(window.innerWidth<768),[S,G]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=()=>{M(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const V=(0,t.useCallback)((e=>{const s={week:y()().startOf("week"),month:y()().startOf("month"),year:y()().startOf("year")}[v];return e.filter((e=>y()(e.NgayGuiCV,"DD/MM/YYYY").isSameOrAfter(s)))}),[v]),E=(0,t.useCallback)((e=>{const s=V(e),n=s.map((e=>y()(e.NgayGuiCV,"DD/MM/YYYY").format("DD/MM/YYYY"))),t=s.map((()=>1)),i=s.map((e=>e.PheDuyet?1:0));T({title:{text:"T\u1ed5ng \u0111\u01a1n \u1ee9ng tuy\u1ec3n v\xe0 \u0110\u01a1n \u0111\xe3 x\xe1c nh\u1eadn"},xAxis:{categories:n},yAxis:{title:{text:"S\u1ed1 l\u01b0\u1ee3ng \u0111\u01a1n"}},series:[{name:"T\u1ed5ng \u0111\u01a1n \u1ee9ng tuy\u1ec3n",data:t},{name:"\u0110\u01a1n \u0111\xe3 x\xe1c nh\u1eadn",data:i}]})}),[V]);(0,t.useEffect)((()=>{(async()=>{try{const e=(0,i.P)((0,i.rJ)(a.db,"CV")),n=await(0,i.GG)(e),t=n.docs.map((e=>({id:e.id,...e.data()}))).sort(((e,s)=>y()(s.NgayGuiCV,"DD/MM/YYYY").valueOf()-y()(e.NgayGuiCV,"DD/MM/YYYY").valueOf()));s(t),O(t),E(t)}catch(e){console.error("Error fetching CV data: ",e)}})()}),[v,E]);const O=e=>{const s=y()().format("DD/MM/YYYY");g({totalApplications:e.length,savedApplications:e.filter((e=>e.LuuHoSo)).length,approvedApplications:e.filter((e=>e.PheDuyet)).length,applicationsToday:e.filter((e=>e.NgayGuiCV===s)).length})},H=()=>(0,C.jsxs)("div",{className:"row mb-4",children:[(0,C.jsx)("div",{className:"col-md-3",children:(0,C.jsx)(l.A,{className:"text-center",children:(0,C.jsxs)(c.A,{children:[(0,C.jsx)(r.A,{children:"T\u1ed5ng \u0111\u01a1n \u1ee9ng tuy\u1ec3n"}),(0,C.jsx)(d.A,{children:n.totalApplications})]})})}),(0,C.jsx)("div",{className:"col-md-3",children:(0,C.jsx)(l.A,{className:"text-center",children:(0,C.jsxs)(c.A,{children:[(0,C.jsx)(r.A,{children:"\u0110\u01a1n \u0111\xe3 l\u01b0u"}),(0,C.jsx)(d.A,{children:n.savedApplications})]})})}),(0,C.jsx)("div",{className:"col-md-3",children:(0,C.jsx)(l.A,{className:"text-center",children:(0,C.jsxs)(c.A,{children:[(0,C.jsx)(r.A,{children:"\u0110\u01a1n \u0111\xe3 x\xe1c nh\u1eadn"}),(0,C.jsx)(d.A,{children:n.approvedApplications})]})})}),(0,C.jsx)("div",{className:"col-md-3",children:(0,C.jsx)(l.A,{className:"text-center",children:(0,C.jsxs)(c.A,{children:[(0,C.jsx)(r.A,{children:"T\u1ed5ng \u0111\u01a1n trong ng\xe0y"}),(0,C.jsx)(d.A,{children:n.applicationsToday})]})})})]});return(0,C.jsxs)("div",{children:[k?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(b.Ay,{type:"primary",onClick:()=>{G(!0)},style:{marginBottom:16},children:"Hi\u1ec3n th\u1ecb Th\u1ed1ng k\xea"}),(0,C.jsx)(w.A,{title:"Th\u1ed1ng k\xea \u1ee9ng tuy\u1ec3n",placement:"right",closable:!0,onClose:()=>{G(!1)},visible:S,children:H()})]}):H(),(0,C.jsxs)(o.A.Group,{className:"mb-3",children:[(0,C.jsx)(o.A.Label,{children:"Ph\xe2n t\xedch theo"}),(0,C.jsxs)(o.A.Control,{as:"select",value:v,onChange:e=>{f(e.target.value)},children:[(0,C.jsx)("option",{value:"week",children:"Trong tu\u1ea7n"}),(0,C.jsx)("option",{value:"month",children:"Trong th\xe1ng"}),(0,C.jsx)("option",{value:"year",children:"Trong n\u0103m"})]})]}),(0,C.jsx)(N(),{highcharts:Y(),options:D}),(0,C.jsxs)(l.A,{className:"mt-4",children:[(0,C.jsx)(l.A.Header,{children:"\u0110\u01a1n \u1ee9ng tuy\u1ec3n g\u1ea7n \u0111\xe2y"}),(0,C.jsx)(l.A.Body,{children:(0,C.jsx)(h.A,{children:e.slice(0,5).map((e=>(0,C.jsxs)(x.A,{className:"d-flex justify-content-between align-items-center",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("h5",{children:e.HoTen}),(0,C.jsxs)("p",{className:"mb-1",children:[(0,C.jsx)(j.A,{})," ",e.Vitriungtuyen]}),(0,C.jsxs)("p",{className:"mb-1",children:[(0,C.jsx)(m.A,{})," ",e.Email]}),(0,C.jsxs)("p",{className:"mb-1",children:[(0,C.jsx)(p.A,{})," ",e.SoDienThoai]}),(0,C.jsxs)("p",{className:"mb-1",children:[(0,C.jsx)(A.A,{})," ",e.NgayGuiCV]})]}),(0,C.jsxs)("div",{children:[e.LuuHoSo&&(0,C.jsx)(u.A,{bg:"info",className:"me-2",children:"\u0110\xe3 l\u01b0u"}),e.PheDuyet&&(0,C.jsx)(u.A,{bg:"success",children:"\u0110\xe3 ph\xea duy\u1ec7t"})]})]},e.id)))})})]})]})}}}]);
//# sourceMappingURL=935.7e7ab650.chunk.js.map