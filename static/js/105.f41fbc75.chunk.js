"use strict";(self.webpackChunkniso_careers=self.webpackChunkniso_careers||[]).push([[105],{8105:(e,s,i)=>{i.r(s),i.d(s,{default:()=>H});var a=i(5043),n=i(5472),l=i(574),r=i(2019),t=i(5444),o=i(6051),c=i(3530),d=i(9472),h=i(2761),u=i(3188),x=i(4327),m=i(8677),g=i(2751),j=i(6178),C=i.n(j),y=i(9679),p=i(9194),v=i(3617),f=i(3722),N=i(5388),b=i(7534),w=i(1831),A=i(8143),S=i(1966),V=i(184),k=i(3401),T=i(579);const H=()=>{const[e,s]=(0,a.useState)([]),[i,j]=(0,a.useState)([]),[H,Y]=(0,a.useState)(!0),[L,O]=(0,a.useState)(null),[D,E]=(0,a.useState)(null),[F,B]=(0,a.useState)(!1),[M,_]=(0,a.useState)(!1),[G,X]=(0,a.useState)(""),[z,P]=(0,a.useState)(null),[U,$]=(0,a.useState)(1),[R,J]=(0,a.useState)(!1),[K,W]=(0,a.useState)(!1),[Z,q]=(0,a.useState)(!1),[I,Q]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{const e=(0,n.P)((0,n.rJ)(l.db,"CV")),i=await(0,n.GG)(e),a=i.docs.map((e=>({id:e.id,...e.data()}))).filter((e=>!0===e.LuuHoSo)).sort(((e,s)=>C()(s.NgayGuiCV,"DD/MM/YYYY").valueOf()-C()(e.NgayGuiCV,"DD/MM/YYYY").valueOf()));s(a),j(a),Y(!1)}catch(e){console.error("Error fetching CV data: ",e),O("An error occurred while fetching data"),Y(!1)}})()}),[]),(0,a.useEffect)((()=>{const s=e.filter((e=>{const s=e.HoTen.toLowerCase().includes(G.toLowerCase())||e.Email.toLowerCase().includes(G.toLowerCase())||e.Vitriungtuyen.toLowerCase().includes(G.toLowerCase()),i=!z||C()(e.NgayGuiCV,"DD/MM/YYYY").isSame(z,"day");return s&&i}));j(s),$(1)}),[G,z,e]);const ee=i.slice(20*(U-1),20*U);return H?(0,T.jsx)(y.A,{}):L?(k.oR.error("C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),(0,T.jsx)(p.default,{})):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"mb-4",children:[(0,T.jsx)(t.A,{placeholder:"T\xecm ki\u1ebfm theo t\xean, email ho\u1eb7c v\u1ecb tr\xed",onChange:e=>{X(e.target.value)},size:"large",style:{marginBottom:15}}),(0,T.jsx)(o.A,{children:(0,T.jsx)(c.A,{onChange:e=>{P(e)},format:"DD/MM/YYYY",placeholder:"L\u1ecdc theo ng\xe0y g\u1eedi CV"})})]}),0===i.length?(0,T.jsx)(d.A,{description:"Kh\xf4ng t\xecm th\u1ea5y h\u1ed3 s\u01a1 n\xe0o \u0111\xe3 l\u01b0u"}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"row",children:ee.map((e=>(0,T.jsx)("div",{className:"col-md-3 mb-4",children:(0,T.jsx)("div",{className:"card",children:(0,T.jsxs)("div",{className:"card-body lh-lg",children:[(0,T.jsxs)("div",{className:"d-flex align-items-center",children:[(0,T.jsx)(h.A,{size:48,src:e.Hinhdaidien,icon:!e.Hinhdaidien&&(0,T.jsx)(f.A,{}),className:"me-3"}),(0,T.jsx)("h2",{className:"card-title",style:{maxWidth:"250px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.Vitriungtuyen})]}),(0,T.jsx)("div",{className:"apply-form__group-body--line"}),(0,T.jsx)("div",{className:"d-flex justify-content-between align-items-center mt-2",children:(0,T.jsx)(v.A,{cv:e})}),(0,T.jsx)("div",{className:"apply-form__group-body--line"}),(0,T.jsxs)("p",{className:"card-text",children:[(0,T.jsx)(V.p7b,{})," T\xean \u1ee9ng vi\xean: ",e.HoTen]}),(0,T.jsxs)("p",{className:"card-text",children:[(0,T.jsx)(N.A,{})," Email:",(0,T.jsx)("a",{href:`mailto:${e.Email}`,className:"ms-2",children:e.Email})]}),(0,T.jsxs)("p",{className:"card-text",children:[(0,T.jsx)(b.A,{})," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:",(0,T.jsx)("a",{href:`tel:${e.SoDienThoai}`,className:"ms-2",children:e.SoDienThoai})]}),(0,T.jsxs)("p",{className:"card-text",children:[(0,T.jsx)(w.A,{})," Ng\xe0y g\u1eedi CV: ",e.NgayGuiCV]}),(0,T.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[e.CVFileUT&&(0,T.jsx)(u.Ay,{onClick:()=>(e=>{E(e),_(!0),B(!0),setTimeout((()=>_(!1)),1500)})(e),children:"Xem CV File"}),(0,T.jsx)(u.Ay,{icon:(0,T.jsx)(A.A,{}),onClick:()=>(e=>{Q(e),J(!0)})(e),children:"B\u1ecf l\u01b0u"}),(0,T.jsx)(u.Ay,{icon:(0,T.jsx)(S.A,{}),onClick:()=>(e=>{Q(e),W(!0)})(e),danger:!0,children:"X\xf3a"})]})]})})},e.id)))}),(0,T.jsx)(x.A,{current:U,total:i.length,pageSize:20,onChange:$,showSizeChanger:!1,className:"mt-4"})]}),(0,T.jsx)(m.A,{title:(0,T.jsxs)(T.Fragment,{children:["CV c\u1ee7a ",null===D||void 0===D?void 0:D.HoTen]}),placement:"right",onClose:()=>B(!1),open:F,width:800,children:M?(0,T.jsx)("div",{className:"d-flex justify-content-center",children:(0,T.jsx)("div",{className:"spinner-border",role:"status",children:(0,T.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(null===D||void 0===D?void 0:D.CVFileUT)&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("iframe",{src:D.CVFileUT,style:{width:"100%",height:"86vh",border:"none"},title:`CV c\u1ee7a ${D.HoTen}`}),(0,T.jsx)(u.Ay,{onClick:()=>window.open(`${D.CVFileUT}`,"_blank"),type:"primary",children:"Xem \u0111\u1ea7y \u0111\u1ee7"})]})}),(0,T.jsxs)(g.A,{title:"X\xe1c nh\u1eadn",visible:R,onOk:async()=>{q(!0);try{const e=(0,n.H9)(l.db,"CV",I.id);await(0,n.mZ)(e,{LuuHoSo:!1}),k.oR.success("\u0110\xe3 b\u1ecf l\u01b0u h\u1ed3 s\u01a1.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s((e=>e.filter((e=>e.id!==I.id)))),j((e=>e.filter((e=>e.id!==I.id)))),J(!1)}catch(L){console.error("Error unsaving CV: ",L),r.Ay.error("C\xf3 l\u1ed7i x\u1ea3y ra khi b\u1ecf l\u01b0u h\u1ed3 s\u01a1")}finally{q(!1)}},onCancel:()=>J(!1),confirmLoading:Z,okText:"B\u1ecf l\u01b0u",cancelText:"H\u1ee7y",children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n b\u1ecf l\u01b0u h\u1ed3 s\u01a1 c\u1ee7a ",(0,T.jsx)("strong",{children:null===I||void 0===I?void 0:I.HoTen}),"?"]}),(0,T.jsxs)(g.A,{title:"X\xe1c nh\u1eadn",visible:K,onOk:async()=>{q(!0);try{const e=(0,n.H9)(l.db,"CV",I.id);await(0,n.kd)(e),k.oR.success("\u0110\xe3 x\xf3a h\u1ed3 s\u01a1.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s((e=>e.filter((e=>e.id!==I.id)))),j((e=>e.filter((e=>e.id!==I.id)))),W(!1)}catch(L){console.error("Error deleting CV: ",L),r.Ay.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a h\u1ed3 s\u01a1")}finally{q(!1)}},onCancel:()=>W(!1),confirmLoading:Z,okText:"X\xf3a",cancelText:"H\u1ee7y",children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a h\u1ed3 s\u01a1 c\u1ee7a ",(0,T.jsx)("strong",{children:null===I||void 0===I?void 0:I.HoTen}),"?"]})]})}}}]);
//# sourceMappingURL=105.f41fbc75.chunk.js.map